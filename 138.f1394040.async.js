(self.webpackChunk=self.webpackChunk||[]).push([[138],{26939:function(E,m,a){"use strict";a.d(m,{Q:function(){return l}});var g=a(17187),P=a.n(g),h=a(53653);function v(u,s){u.prototype=Object.create(s.prototype),u.prototype.constructor=u,u.__proto__=s}var l=function(u){v(s,u);function s(i){var e,n=i===void 0?{}:i,t=n.supportedChainIds;return e=u.call(this)||this,e.supportedChainIds=t,e}var o=s.prototype;return o.emitUpdate=function(e){this.emit(h._.Update,e)},o.emitError=function(e){this.emit(h._.Error,e)},o.emitDeactivate=function(){this.emit(h._.Deactivate)},s}(g.EventEmitter)},49138:function(E,m,a){"use strict";a.r(m),a.d(m,{PortisConnector:function(){return s}});var g=a(26939),P=a(2177);function h(o,i){o.prototype=Object.create(i.prototype),o.prototype.constructor=o,v(o,i)}function v(o,i){return v=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},v(o,i)}function l(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}var u={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan",100:"xdai",30:"orchid",31:"orchidTestnet",99:"core",77:"sokol",61:"classic",8:"ubiq",108:"thundercore",18:"thundercoreTestnet",163:"lightstreams",122:"fuse",15001:"maticTestnet"},s=function(o){h(i,o);function i(n){var t,r=n.dAppId,d=n.networks,c=n.config,f=c===void 0?{}:c,O=d.map(function(p){return typeof p=="number"?p:Number(p.chainId)});return O.every(function(p){return!!u[p]})||(0,P.Z)(!1),t=o.call(this,{supportedChainIds:O})||this,t.dAppId=r,t.networks=d,t.config=f,t.handleOnLogout=t.handleOnLogout.bind(l(t)),t.handleOnActiveWalletChanged=t.handleOnActiveWalletChanged.bind(l(t)),t.handleOnError=t.handleOnError.bind(l(t)),t}var e=i.prototype;return e.handleOnLogout=function(){this.emitDeactivate()},e.handleOnActiveWalletChanged=function(t){this.emitUpdate({account:t})},e.handleOnError=function(t){this.emitError(t)},e.activate=function(){try{var t=this,r=function(){return t.portis.onLogout(t.handleOnLogout),t.portis.onActiveWalletChanged(t.handleOnActiveWalletChanged),t.portis.onError(t.handleOnError),Promise.resolve(t.portis.provider.enable().then(function(f){return f[0]})).then(function(f){return{provider:t.portis.provider,account:f}})},d=function(){if(!t.portis)return Promise.resolve(a.e(273).then(a.t.bind(a,91273,23)).then(function(c){var f;return(f=c==null?void 0:c.default)!=null?f:c})).then(function(c){t.portis=new c(t.dAppId,typeof t.networks[0]=="number"?u[t.networks[0]]:t.networks[0],t.config)})}();return Promise.resolve(d&&d.then?d.then(r):r(d))}catch(c){return Promise.reject(c)}},e.getProvider=function(){try{var t=this;return Promise.resolve(t.portis.provider)}catch(r){return Promise.reject(r)}},e.getChainId=function(){try{var t=this;return Promise.resolve(t.portis.provider.send("eth_chainId"))}catch(r){return Promise.reject(r)}},e.getAccount=function(){try{var t=this;return Promise.resolve(t.portis.provider.send("eth_accounts").then(function(r){return r[0]}))}catch(r){return Promise.reject(r)}},e.deactivate=function(){this.portis.onLogout(function(){}),this.portis.onActiveWalletChanged(function(){}),this.portis.onError(function(){})},e.changeNetwork=function(t,r){try{var d=this;return typeof t=="number"?(u[t]||(0,P.Z)(!1),d.portis.changeNetwork(u[t],r),d.emitUpdate({chainId:t})):(d.portis.changeNetwork(t,r),d.emitUpdate({chainId:Number(t.chainId)})),Promise.resolve()}catch(c){return Promise.reject(c)}},e.close=function(){try{var t=this;return Promise.resolve(t.portis.logout()).then(function(){t.emitDeactivate()})}catch(r){return Promise.reject(r)}},i}(g.Q)}}]);
